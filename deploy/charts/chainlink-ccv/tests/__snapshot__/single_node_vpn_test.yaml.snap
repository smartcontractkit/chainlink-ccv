manifest should match snapshot:
  1: |
    apiVersion: k8s.chain.link/v1alpha1
    kind: ChainlinkNode
    metadata:
      annotations:
        chainlinknode.k8s.chain.link/create-v2: "true"
        chainlinknode.k8s.chain.link/init-rds: "true"
        chainlinknode.k8s.chain.link/init-rds-idx: "0"
        chainlinknode.k8s.chain.link/preserve-ssm: "true"
      labels:
        app.chain.link/blockchain: ethereum
        app.chain.link/network: sepolia
        app.chain.link/network_type: testnet
        app.chain.link/product: example
        app.chain.link/team: infra
        app.kubernetes.io/component: chainlink-example-node
        app.kubernetes.io/instance: cln-misc-s-n-0
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: cln-misc-s-n
        app.kubernetes.io/version: 2.5.0
      name: cln-misc-s-n-0
    spec:
      credentials:
        config:
          api:
            key: .api
            password: ""
            user: admin@chain.link
          keystore:
            key: .keystore
            password: ""
          vrf:
            key: .vrf
            password: ""
        secretName: cln-misc-s-n-0-creds
        storageType: aws:ssm
      database:
        config:
          database: ""
          host: ""
          password: ""
          port: "5432"
          user: ""
        secretName: cln-misc-s-n-0-db
        storageType: aws:ssm
  2: |
    apiVersion: v1
    data:
      00-defaults-node-config.toml: |
        RootDir = '/home/chainlink'

        [Database]
          MaxIdleConns = 20
          MaxOpenConns = 40
          MigrateOnStartup = true

        [Log]
          Level = 'info'
          JSONConsole = true

        [Log.File]
          MaxSize = '0b'

        [WebServer]
          AllowOrigins = '*'
          HTTPPort = 6688
          SecureCookies = false

          [WebServer.RateLimit]
            Authenticated = 2000
            Unauthenticated = 100

          [WebServer.TLS]
            HTTPSPort = 0
      01-networks.toml: |
        [[EVM]]
          ChainID = "11155111"

          [[EVM.Nodes]]
            HTTPURL = "https://nd-611-802-295.p2pify.com/05541dd996d9d812e580c32477f70b1a"
            Name = "11155111_primary_Chainstack_0"
            SendOnly = false
            WSURL = "wss://ws-nd-611-802-295.p2pify.com/05541dd996d9d812e580c32477f70b1a"

          [[EVM.Nodes]]
            HTTPURL = "https://chainlinklabs-sepolia-geth-fullnode-01.bdnodes.net/?auth=waYM-neMbBEC2Nlg2u-8vcC6JFNWB5W-Yv-deQuHGAk"
            Name = "11155111_primary_Blockdaemon_1"
            SendOnly = false
            WSURL = "wss://chainlinklabs-sepolia-geth-fullnode-01.bdnodes.net:8443/websocket?auth=waYM-neMbBEC2Nlg2u-8vcC6JFNWB5W-Yv-deQuHGAk"

          [[EVM.Nodes]]
            HTTPURL = "https://ethereum-sepolia-1.simplystaking.xyz/DFKJSDFKJNSD/rpc/"
            Name = "11155111_primary_SimplyVC_2"
            SendOnly = false
            WSURL = "wss://ethereum-sepolia-1.simplystaking.xyz/DFKJSDFKJNSD/ws/"
    kind: ConfigMap
    metadata:
      labels:
        app.chain.link/blockchain: ethereum
        app.chain.link/network: sepolia
        app.chain.link/network_type: testnet
        app.chain.link/product: example
        app.chain.link/team: infra
        app.kubernetes.io/component: chainlink-example-node
        app.kubernetes.io/instance: cln-misc-s-n-0
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: cln-misc-s-n
        app.kubernetes.io/version: 2.5.0
      name: cln-misc-s-n-0-cm-v2
  3: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app.chain.link/blockchain: ethereum
        app.chain.link/network: sepolia
        app.chain.link/network_type: testnet
        app.chain.link/product: example
        app.chain.link/team: infra
        app.kubernetes.io/component: chainlink-example-node
        app.kubernetes.io/instance: cln-misc-s-n-0
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: cln-misc-s-n
        app.kubernetes.io/version: 2.5.0
      name: cln-misc-s-n-0
    spec:
      replicas: 1
      selector:
        matchLabels:
          app.kubernetes.io/instance: cln-misc-s-n-0
          app.kubernetes.io/name: cln-misc-s-n
      template:
        metadata:
          annotations:
            checksum/config-v2: 8356c8f2158dd6075f39f56e6f9e5bf65be770a8ac941af28002f6b703dea497
          labels:
            app.chain.link/blockchain: ethereum
            app.chain.link/network: sepolia
            app.chain.link/network_type: testnet
            app.chain.link/product: example
            app.chain.link/team: infra
            app.kubernetes.io/component: chainlink-example-node
            app.kubernetes.io/instance: cln-misc-s-n-0
            app.kubernetes.io/managed-by: Helm
            app.kubernetes.io/name: cln-misc-s-n
            app.kubernetes.io/version: 2.5.0
        spec:
          containers:
            - image: linuxserver/wireguard:1.0.20210914
              imagePullPolicy: IfNotPresent
              name: chainlink-cluster-vpn-client
              securityContext:
                capabilities:
                  add:
                    - NET_ADMIN
                fsGroup: 1000
                runAsGroup: 1000
                runAsUser: 1000
              volumeMounts:
                - mountPath: /etc/wireguard/wg0.conf
                  name: cln-misc-s-n-0-vpn-secret
                  readOnly: true
                  subPath: wg0.conf
            - args:
                - -c
                - /v2Config/00-defaults-node-config.toml
                - -c
                - /v2Config/01-networks.toml
                - -s
                - /v2Secret/secret.toml
                - local
                - "n"
                - -a
                - /v2Secret/.api
              image: public.ecr.aws/chainlink/chainlink:2.5.0
              imagePullPolicy: IfNotPresent
              name: chainlink-cluster
              ports:
                - containerPort: 6690
                  name: p2pv1
                  protocol: TCP
                - containerPort: 5001
                  name: p2pv2
                  protocol: TCP
                - containerPort: 6688
                  name: http
                  protocol: TCP
              resources:
                limits:
                  cpu: 500m
                  memory: 1024Mi
                requests:
                  cpu: 250m
                  memory: 512Mi
              volumeMounts:
                - mountPath: /v2Config
                  name: cln-misc-s-n-0-cm-v2
                  readOnly: true
                - mountPath: /v2Secret
                  name: cln-misc-s-n-0-v2
                  readOnly: true
          enableServiceLinks: false
          initContainers:
            - args:
                - -c
                - |
                  while ! pg_isready -d $POSTGRES_DB -h $POSTGRES_HOST -p $POSTGRES_PORT -U $POSTGRES_USER; do sleep 1; done;
              command:
                - /bin/bash
              envFrom:
                - secretRef:
                    name: cln-misc-s-n-0-db
              image: docker.io/bitnami/postgresql:16.6.0
              imagePullPolicy: IfNotPresent
              name: init-db-check
          topologySpreadConstraints:
            - labelSelector:
                matchLabels:
                  app.kubernetes.io/name: cln-misc-s-n
              maxSkew: 1
              topologyKey: topology.kubernetes.io/zone
              whenUnsatisfiable: ScheduleAnyway
          volumes:
            - configMap:
                name: cln-misc-s-n-0-cm-v2
              name: cln-misc-s-n-0-cm-v2
            - name: cln-misc-s-n-0-v2
              secret:
                secretName: cln-misc-s-n-0-v2
            - emptyDir: {}
              name: cln-misc-s-n-0-vpn
            - name: cln-misc-s-n-0-vpn-secret
              secret:
                secretName: cln-misc-s-n-0-vpn-secret
  4: |
    apiVersion: v1
    kind: Secret
    metadata:
      labels:
        app.chain.link/blockchain: ethereum
        app.chain.link/network: sepolia
        app.chain.link/network_type: testnet
        app.chain.link/product: example
        app.chain.link/team: infra
        app.kubernetes.io/component: chainlink-example-node
        app.kubernetes.io/instance: cln-misc-s-n-0
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: cln-misc-s-n
        app.kubernetes.io/version: 2.5.0
      name: cln-misc-s-n-0-vpn-secret
    stringData:
      wg0.conf: |
        [Interface]
        Address = 10.22.32.60/32
        PrivateKey = REDACTED-0
        PostUp = ping -c1 10.22.32.1
        [Peer]
        PublicKey = 8dW3a6xAq9Kg20EUZrvhDtXrabIWCTTBxh4FUPRpa1o=
        AllowedIPs = 10.22.32.0/24
        Endpoint = 54.148.105.56:51820
        PersistentKeepalive = 25
    type: Opaque
  5: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app.chain.link/blockchain: ethereum
        app.chain.link/network: sepolia
        app.chain.link/network_type: testnet
        app.chain.link/product: example
        app.chain.link/team: infra
        app.kubernetes.io/component: chainlink-example-node
        app.kubernetes.io/instance: cln-misc-s-n-0
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: cln-misc-s-n
        app.kubernetes.io/version: 2.5.0
      name: cln-misc-s-n-0
    spec:
      ports:
        - name: http
          port: 6688
          protocol: TCP
          targetPort: http
        - name: p2pv1
          port: 6690
          protocol: TCP
          targetPort: p2pv1
        - name: p2pv2
          port: 5001
          protocol: TCP
          targetPort: p2pv2
      selector:
        app.kubernetes.io/instance: cln-misc-s-n-0
        app.kubernetes.io/name: cln-misc-s-n
      type: ClusterIP
  6: |
    apiVersion: monitoring.coreos.com/v1
    kind: ServiceMonitor
    metadata:
      labels:
        app.chain.link/blockchain: ethereum
        app.chain.link/network: sepolia
        app.chain.link/network_type: testnet
        app.chain.link/product: example
        app.chain.link/team: infra
        app.kubernetes.io/component: chainlink-example-node
        app.kubernetes.io/instance: cln-misc-s-n-0
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: cln-misc-s-n
        app.kubernetes.io/version: 2.5.0
        release: grafana-agent
      name: cln-misc-s-n-0
    spec:
      endpoints:
        - path: /metrics
          port: http
          relabelings:
            - action: replace
              sourceLabels:
                - __meta_kubernetes_service_label_app_kubernetes_io_component
              targetLabel: component
            - action: replace
              sourceLabels:
                - __meta_kubernetes_service_label_app_kubernetes_io_version
              targetLabel: version
            - action: replace
              sourceLabels:
                - __meta_kubernetes_service_label_app_chain_link_team
              targetLabel: team
            - action: replace
              sourceLabels:
                - __meta_kubernetes_service_label_app_chain_link_product
              targetLabel: product
            - action: replace
              sourceLabels:
                - __meta_kubernetes_service_label_app_chain_link_blockchain
              targetLabel: blockchain
            - action: replace
              sourceLabels:
                - __meta_kubernetes_service_label_app_chain_link_network
              targetLabel: network
            - action: replace
              sourceLabels:
                - __meta_kubernetes_service_label_app_chain_link_network_type
              targetLabel: network_type
      selector:
        matchLabels:
          app.kubernetes.io/instance: cln-misc-s-n-0
          app.kubernetes.io/name: cln-misc-s-n
  7: |
    apiVersion: networking.k8s.io/v1
    kind: NetworkPolicy
    metadata:
      labels:
        app.chain.link/blockchain: ethereum
        app.chain.link/network: sepolia
        app.chain.link/network_type: testnet
        app.chain.link/product: example
        app.chain.link/team: infra
        app.kubernetes.io/component: chainlink-example-node
        app.kubernetes.io/instance: cln-misc-s-n
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: cln-misc-s-n
        app.kubernetes.io/version: 2.5.0
        helm.sh/chart: chainlink-cluster-1.99.1
      name: cln-misc-s-n-netpol-egress-vpn
      namespace: chainlink
    spec:
      egress:
        - ports:
            - port: 5432
              protocol: TCP
          to:
            - ipBlock:
                cidr: null
        - ports:
            - port: 53
              protocol: UDP
          to:
            - namespaceSelector:
                matchLabels:
                  kubernetes.io/metadata.name: kube-system
              podSelector:
                matchLabels:
                  k8s-app: kube-dns
            - ipBlock:
                cidr: 0.0.0.0/0
        - ports:
            - port: 443
              protocol: TCP
          to:
            - ipBlock:
                cidr: 0.0.0.0/0
        - ports:
            - endPort: 65535
              port: 1025
              protocol: TCP
          to:
            - ipBlock:
                cidr: null
        - ports:
            - port: 51820
              protocol: UDP
          to:
            - ipBlock:
                cidr: null
      podSelector:
        matchLabels:
          app.kubernetes.io/name: cln-misc-s-n
      policyTypes:
        - Egress
  8: |
    apiVersion: networking.k8s.io/v1
    kind: NetworkPolicy
    metadata:
      name: cln-misc-s-n-netpol-ingress-vpn
      namespace: chainlink
    spec:
      ingress:
        - from:
            - ipBlock:
                cidr: null
          ports:
            - port: 5001
              protocol: TCP
        - from:
            - ipBlock:
                cidr: 10.0.0.0/8
          ports:
            - port: 6688
              protocol: TCP
      podSelector:
        matchLabels:
          app.kubernetes.io/name: cln-misc-s-n
      policyTypes:
        - Ingress
