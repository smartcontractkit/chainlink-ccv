stubQuorumValidation = false
pyroscope_url = "http://pyroscope:4040"

[server]
  address = ":50051"

[healthCheck]
  enabled = true

[storage]
  type = "postgres"

[checkpoints]
  maxCheckpointsPerRequest = 100

[orphanRecovery]
  enabled = false
  intervalSeconds = 300

# Rate Limiting Configuration
[rateLimiting]
  enabled = true
  
  # Storage backend: "memory" (single instance) or "redis" (distributed)
  [rateLimiting.storage]
    type = "redis"
    
    [rateLimiting.storage.redis]
      key_prefix = "ratelimit"
  
  # Default rate limits (applied to all callers unless overridden)
  [rateLimiting.defaultLimits]
    "/chainlink_ccv.v1.VerifierResultAPI/GetMessagesSince" = { limit_per_minute = 1200 }
    "/chainlink_ccv.v1.VerifierResultAPI/GetVerifierResultForMessage" = { limit_per_minute = 6000 }
  
  # Group-based rate limits (more restrictive than defaults for specific groups)
  [rateLimiting.groupLimits.verifiers]
    "/chainlink_ccv.v1.Aggregator/BatchWriteCommitCCVNodeData" = { limit_per_minute = 6000 }
    "/chainlink_ccv.v1.Aggregator/WriteChainStatus" = { limit_per_minute = 5 }
    "/chainlink_ccv.v1.Aggregator/ReadChainStatus" = { limit_per_minute = 5 }
  
  [rateLimiting.groupLimits.monitoring]
    "/chainlink_ccv.v1.VerifierResultAPI/GetMessagesSince" = { limit_per_minute = 200 }

[committees]
  [committees.default]
    [committees.default.quorumConfigs]
      [committees.default.quorumConfigs.12922642891491394802]
        committeeVerifierAddress = "0x9A9f2CCfdE556A7E9Ff0848998Aa4a0CFD8863AE"
        threshold = 2

        [[committees.default.quorumConfigs.12922642891491394802.signers]]
          participantID = "default-participant1"
          addresses = ["0x2c127e1eea67c6ec6945652183d4f043141705b2"]

        [[committees.default.quorumConfigs.12922642891491394802.signers]]
          participantID = "default-participant2"
          addresses = ["0x2a3e6b4676d01c5afdd710f01d2b8870bdef182d"]
      [committees.default.quorumConfigs.3379446385462418246]
        committeeVerifierAddress = "0x9A9f2CCfdE556A7E9Ff0848998Aa4a0CFD8863AE"
        threshold = 2

        [[committees.default.quorumConfigs.3379446385462418246.signers]]
          participantID = "default-participant1"
          addresses = ["0x2c127e1eea67c6ec6945652183d4f043141705b2"]

        [[committees.default.quorumConfigs.3379446385462418246.signers]]
          participantID = "default-participant2"
          addresses = ["0x2a3e6b4676d01c5afdd710f01d2b8870bdef182d"]
      [committees.default.quorumConfigs.4793464827907405086]
        committeeVerifierAddress = "0x9A9f2CCfdE556A7E9Ff0848998Aa4a0CFD8863AE"
        threshold = 2

        [[committees.default.quorumConfigs.4793464827907405086.signers]]
          participantID = "default-participant1"
          addresses = ["0x2c127e1eea67c6ec6945652183d4f043141705b2"]
        
        [[committees.default.quorumConfigs.4793464827907405086.signers]]
          participantID = "default-participant2"
          addresses = ["0x2a3e6b4676d01c5afdd710f01d2b8870bdef182d"]
    [committees.default.sourceVerifierAddresses]
      12922642891491394802 = "0x9A9f2CCfdE556A7E9Ff0848998Aa4a0CFD8863AE"
      3379446385462418246 = "0x9A9f2CCfdE556A7E9Ff0848998Aa4a0CFD8863AE"
      4793464827907405086 = "0x9A9f2CCfdE556A7E9Ff0848998Aa4a0CFD8863AE"
  [committees.secondary]
    [committees.secondary.quorumConfigs]
      [committees.secondary.quorumConfigs.12922642891491394802]
        committeeVerifierAddress = "0xc6e7DF5E7b4f2A278906862b61205850344D4e7d"
        threshold = 2

        [[committees.secondary.quorumConfigs.12922642891491394802.signers]]
          participantID = "secondary-participant1"
          addresses = ["0x947a3f54dc6a01a0d12f0cb4810266f2c7afe61a"]

        [[committees.secondary.quorumConfigs.12922642891491394802.signers]]
          participantID = "secondary-participant2"
          addresses = ["0x6775609f7a2510cde5e2faa62355b247e2db02d3"]
      [committees.secondary.quorumConfigs.3379446385462418246]
        committeeVerifierAddress = "0xc6e7DF5E7b4f2A278906862b61205850344D4e7d"
        threshold = 2

        [[committees.secondary.quorumConfigs.3379446385462418246.signers]]
          participantID = "secondary-participant1"
          addresses = ["0x947a3f54dc6a01a0d12f0cb4810266f2c7afe61a"]

        [[committees.secondary.quorumConfigs.3379446385462418246.signers]]
          participantID = "secondary-participant2"
          addresses = ["0x6775609f7a2510cde5e2faa62355b247e2db02d3"]
      [committees.secondary.quorumConfigs.4793464827907405086]
        committeeVerifierAddress = "0xc6e7DF5E7b4f2A278906862b61205850344D4e7d"
        threshold = 2

        [[committees.secondary.quorumConfigs.4793464827907405086.signers]]
          participantID = "secondary-participant1"
          addresses = ["0x947a3f54dc6a01a0d12f0cb4810266f2c7afe61a"]
        
        [[committees.secondary.quorumConfigs.4793464827907405086.signers]]
          participantID = "secondary-participant2"
          addresses = ["0x6775609f7a2510cde5e2faa62355b247e2db02d3"]
    [committees.secondary.sourceVerifierAddresses]
      12922642891491394802 = "0xc6e7DF5E7b4f2A278906862b61205850344D4e7d"
      3379446385462418246 = "0xc6e7DF5E7b4f2A278906862b61205850344D4e7d"
      4793464827907405086 = "0xc6e7DF5E7b4f2A278906862b61205850344D4e7d"
  [committees.tertiary]
    [committees.tertiary.quorumConfigs]
      [committees.tertiary.quorumConfigs.12922642891491394802]
        committeeVerifierAddress = "0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44"
        threshold = 2

        [[committees.tertiary.quorumConfigs.12922642891491394802.signers]]
          participantID = "tertiary-participant1"
          addresses = ["0x1745efc64c2e61f2e250b7ef79f34c4ec9af092b"]

        [[committees.tertiary.quorumConfigs.12922642891491394802.signers]]
          participantID = "tertiary-participant2"
          addresses = ["0x313624fd004760c40323476003ac7789dd534f94"]
      [committees.tertiary.quorumConfigs.3379446385462418246]
        committeeVerifierAddress = "0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44"
        threshold = 2

        [[committees.tertiary.quorumConfigs.3379446385462418246.signers]]
          participantID = "tertiary-participant1"
          addresses = ["0x1745efc64c2e61f2e250b7ef79f34c4ec9af092b"]

        [[committees.tertiary.quorumConfigs.3379446385462418246.signers]]
          participantID = "tertiary-participant2"
          addresses = ["0x313624fd004760c40323476003ac7789dd534f94"]
      [committees.tertiary.quorumConfigs.4793464827907405086]
        committeeVerifierAddress = "0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44"
        threshold = 2

        [[committees.tertiary.quorumConfigs.4793464827907405086.signers]]
          participantID = "tertiary-participant1"
          addresses = ["0x1745efc64c2e61f2e250b7ef79f34c4ec9af092b"]
        
        [[committees.tertiary.quorumConfigs.4793464827907405086.signers]]
          participantID = "tertiary-participant2"
          addresses = ["0x313624fd004760c40323476003ac7789dd534f94"]
    [committees.tertiary.sourceVerifierAddresses]
      12922642891491394802 = "0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44"
      3379446385462418246 = "0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44"
      4793464827907405086 = "0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44"

[Monitoring]
Enabled = true
Type = "beholder"
[Monitoring.Beholder]
InsecureConnection = true
CACertFile = ""
OtelExporterGRPCEndpoint = ""
OtelExporterHTTPEndpoint = "otel-collector:4318"
LogStreamingEnabled = true
MetricReaderInterval = 5
TraceSampleRatio = 1.0
TraceBatchTimeout = 10
